if (Modernizr.svg && Modernizr.svgclippaths) (function() {
  var po = org.polymaps;

  var poly = "M36.612,-61.236L36.612,-95.904L56.376,-95.904Q60.75,-95.904 64.8,-95.256Q68.85,-94.608 71.928,-92.745Q75.006,-90.882 76.869,-87.48Q78.732,-84.078 78.732,-78.57Q78.732,-73.062 76.869,-69.66Q75.006,-66.258 71.928,-64.395Q68.85,-62.532 64.8,-61.884Q60.75,-61.236 56.376,-61.236ZM11.178,-115.668L11.178,0.0L36.612,0.0L36.612,-41.472L63.342,-41.472Q74.196,-41.472 81.81,-44.631Q89.424,-47.79 94.203,-52.974Q98.982,-58.158 101.169,-64.881Q103.356,-71.604 103.356,-78.57Q103.356,-85.698 101.169,-92.34Q98.982,-98.982 94.203,-104.166Q89.424,-109.35 81.81,-112.509Q74.196,-115.668 63.342,-115.668ZM137.16,-41.796Q137.16,-46.818 138.132,-51.678Q139.104,-56.538 141.453,-60.264Q143.802,-63.99 147.69,-66.339Q151.578,-68.688 157.41,-68.688Q163.242,-68.688 167.211,-66.339Q171.18,-63.99 173.529,-60.264Q175.878,-56.538 176.85,-51.678Q177.822,-46.818 177.822,-41.796Q177.822,-36.774 176.85,-31.995Q175.878,-27.216 173.529,-23.409Q171.18,-19.602 167.211,-17.334Q163.242,-15.066 157.41,-15.066Q151.578,-15.066 147.69,-17.334Q143.802,-19.602 141.453,-23.409Q139.104,-27.216 138.132,-31.995Q137.16,-36.774 137.16,-41.796ZM114.156,-41.796Q114.156,-31.752 117.234,-23.652Q120.312,-15.552 125.982,-9.801Q131.652,-4.05 139.59,-0.972Q147.528,2.106 157.41,2.106Q167.292,2.106 175.311,-0.972Q183.33,-4.05 189.0,-9.801Q194.67,-15.552 197.748,-23.652Q200.826,-31.752 200.826,-41.796Q200.826,-51.84 197.748,-60.021Q194.67,-68.202 189.0,-73.953Q183.33,-79.704 175.311,-82.863Q167.292,-86.022 157.41,-86.022Q147.528,-86.022 139.59,-82.863Q131.652,-79.704 125.982,-73.953Q120.312,-68.202 117.234,-60.021Q114.156,-51.84 114.156,-41.796ZM216.396,-115.668L216.396,0.0L239.4,0.0L239.4,-115.668ZM299.058,10.368L334.05,-83.754L310.236,-83.754L291.93,-26.406L291.606,-26.406L272.652,-83.754L248.19,-83.754L277.512,-5.184Q278.484,-2.754 278.484,0.0Q278.484,3.726 276.297,6.804Q274.11,9.882 269.574,10.368Q266.172,10.53 262.77,10.206Q259.368,9.882 256.128,9.558L256.128,28.512Q259.692,28.836 263.175,29.079Q266.658,29.322 270.222,29.322Q282.048,29.322 288.69,24.948Q295.332,20.574 299.058,10.368Z";

  var maps = "M342.396,-83.754L342.396,0.0L365.4,0.0L365.4,-48.6Q365.4,-54.756 367.182,-58.563Q368.964,-62.37 371.475,-64.395Q373.986,-66.42 376.659,-67.149Q379.332,-67.878 380.952,-67.878Q386.46,-67.878 389.295,-66.015Q392.13,-64.152 393.345,-61.074Q394.56,-57.996 394.722,-54.351Q394.884,-50.706 394.884,-46.98L394.884,0.0L417.888,0.0L417.888,-46.656Q417.888,-50.544 418.455,-54.351Q419.022,-58.158 420.723,-61.155Q422.424,-64.152 425.421,-66.015Q428.418,-67.878 433.278,-67.878Q438.138,-67.878 440.973,-66.258Q443.808,-64.638 445.266,-61.884Q446.724,-59.13 447.048,-55.404Q447.372,-51.678 447.372,-47.466L447.372,0.0L470.376,0.0L470.376,-56.052Q470.376,-64.152 468.108,-69.903Q465.84,-75.654 461.79,-79.218Q457.74,-82.782 452.07,-84.402Q446.4,-86.022 439.758,-86.022Q431.01,-86.022 424.611,-81.81Q418.212,-77.598 414.486,-72.09Q411.084,-79.866 404.523,-82.944Q397.962,-86.022 390.024,-86.022Q381.762,-86.022 375.363,-82.458Q368.964,-78.894 364.428,-72.414L364.104,-72.414L364.104,-83.754ZM487.776,-57.996L510.78,-57.996Q511.428,-64.8 515.316,-67.716Q519.204,-70.632 526.008,-70.632Q529.086,-70.632 531.759,-70.227Q534.432,-69.822 536.457,-68.607Q538.482,-67.392 539.697,-65.205Q540.912,-63.018 540.912,-59.292Q541.074,-55.728 538.806,-53.865Q536.538,-52.002 532.65,-51.03Q528.762,-50.058 523.74,-49.572Q518.718,-49.086 513.534,-48.276Q508.35,-47.466 503.247,-46.089Q498.144,-44.712 494.175,-41.958Q490.206,-39.204 487.695,-34.587Q485.184,-29.97 485.184,-22.842Q485.184,-16.362 487.371,-11.664Q489.558,-6.966 493.446,-3.888Q497.334,-0.81 502.518,0.648Q507.702,2.106 513.696,2.106Q521.472,2.106 528.924,-0.162Q536.376,-2.43 541.884,-8.1Q542.046,-5.994 542.451,-3.969Q542.856,-1.944 543.504,0.0L566.832,0.0Q565.212,-2.592 564.564,-7.776Q563.916,-12.96 563.916,-18.63L563.916,-62.208Q563.916,-69.822 560.514,-74.439Q557.112,-79.056 551.766,-81.648Q546.42,-84.24 539.94,-85.131Q533.46,-86.022 527.142,-86.022Q520.176,-86.022 513.291,-84.645Q506.406,-83.268 500.898,-80.028Q495.39,-76.788 491.826,-71.442Q488.262,-66.096 487.776,-57.996ZM540.912,-40.986L540.912,-32.4Q540.912,-30.456 540.507,-27.216Q540.102,-23.976 538.32,-20.817Q536.538,-17.658 532.812,-15.39Q529.086,-13.122 522.282,-13.122Q519.528,-13.122 516.936,-13.608Q514.344,-14.094 512.4,-15.309Q510.456,-16.524 509.322,-18.63Q508.188,-20.736 508.188,-23.814Q508.188,-27.054 509.322,-29.16Q510.456,-31.266 512.319,-32.643Q514.182,-34.02 516.693,-34.83Q519.204,-35.64 521.796,-36.126Q524.55,-36.612 527.304,-36.936Q530.058,-37.26 532.569,-37.746Q535.08,-38.232 537.267,-38.961Q539.454,-39.69 540.912,-40.986ZM624.03,-15.066Q618.522,-15.066 614.634,-17.334Q610.746,-19.602 608.397,-23.247Q606.048,-26.892 604.995,-31.752Q603.942,-36.612 603.942,-41.634Q603.942,-46.818 604.914,-51.678Q605.886,-56.538 608.235,-60.264Q610.584,-63.99 614.391,-66.339Q618.198,-68.688 623.868,-68.688Q629.376,-68.688 633.183,-66.339Q636.99,-63.99 639.42,-60.183Q641.85,-56.376 642.903,-51.516Q643.956,-46.656 643.956,-41.634Q643.956,-36.612 642.984,-31.752Q642.012,-26.892 639.663,-23.247Q637.314,-19.602 633.507,-17.334Q629.7,-15.066 624.03,-15.066ZM581.748,-83.754L581.748,29.322L604.752,29.322L604.752,-10.368L605.076,-10.368Q609.288,-4.212 615.849,-1.053Q622.41,2.106 630.186,2.106Q639.42,2.106 646.305,-1.458Q653.19,-5.022 657.807,-11.016Q662.424,-17.01 664.692,-24.786Q666.96,-32.562 666.96,-40.986Q666.96,-49.896 664.692,-58.077Q662.424,-66.258 657.726,-72.414Q653.028,-78.57 645.9,-82.296Q638.772,-86.022 628.89,-86.022Q621.114,-86.022 614.634,-82.944Q608.154,-79.866 603.942,-73.062L603.618,-73.062L603.618,-83.754ZM698.568,-27.216L676.698,-27.216Q677.022,-18.792 680.505,-13.203Q683.988,-7.614 689.415,-4.212Q694.842,-0.81 701.808,0.648Q708.774,2.106 716.064,2.106Q723.192,2.106 730.077,0.729Q736.962,-0.648 742.308,-4.05Q747.654,-7.452 750.975,-13.041Q754.296,-18.63 754.296,-26.892Q754.296,-32.724 752.028,-36.693Q749.76,-40.662 746.034,-43.335Q742.308,-46.008 737.529,-47.628Q732.75,-49.248 727.728,-50.382Q722.868,-51.516 718.17,-52.488Q713.472,-53.46 709.827,-54.675Q706.182,-55.89 703.914,-57.834Q701.646,-59.778 701.646,-62.856Q701.646,-65.448 702.942,-66.987Q704.238,-68.526 706.101,-69.336Q707.964,-70.146 710.232,-70.389Q712.5,-70.632 714.444,-70.632Q720.6,-70.632 725.136,-68.283Q729.672,-65.934 730.158,-59.292L752.028,-59.292Q751.38,-67.068 748.059,-72.171Q744.738,-77.274 739.716,-80.352Q734.694,-83.43 728.295,-84.726Q721.896,-86.022 715.092,-86.022Q708.288,-86.022 701.808,-84.807Q695.328,-83.592 690.144,-80.595Q684.96,-77.598 681.801,-72.414Q678.642,-67.23 678.642,-59.13Q678.642,-53.622 680.91,-49.815Q683.178,-46.008 686.904,-43.497Q690.63,-40.986 695.409,-39.447Q700.188,-37.908 705.21,-36.774Q717.522,-34.182 724.407,-31.59Q731.292,-28.998 731.292,-23.814Q731.292,-20.736 729.834,-18.711Q728.376,-16.686 726.189,-15.471Q724.002,-14.256 721.329,-13.689Q718.656,-13.122 716.226,-13.122Q712.824,-13.122 709.665,-13.932Q706.506,-14.742 704.076,-16.443Q701.646,-18.144 700.107,-20.817Q698.568,-23.49 698.568,-27.216Z";

  var end = document.body;
  while (end.lastChild && end.lastChild.tagName) end = end.lastChild;
  if (end != document.body) end = end.parentNode;

  var svg = n$(end).add("svg:svg")
      .attr("width", 800)
      .attr("height", 200);

  var defs = svg.add("svg:defs");

  defs.add("svg:marker")
      .attr("id", "dot-big")
      .attr("viewBox", "-1 -1 2 2")
      .attr("markerUnits", "userSpaceOnUse")
      .attr("markerWidth", 6)
      .attr("markerHeight", 6)
    .add("svg:circle")
      .attr("r", 1);

  var g = svg.add("svg:g")
      .attr("transform", "translate(-8,130)");

  g.add("svg:path")
      .attr("d", poly)
      .attr("class", "poly")
      .attr("marker-mid", "url(#dot-big)");

  g.add("svg:path")
      .attr("d", maps)
      .attr("class", "maps")
      .attr("fill", "#021019");

  var g2 = g.add("svg:g")
      .attr("clip-path", "url(#clip)");

  g2.add("svg:clipPath")
      .attr("id", "clip")
    .add("svg:path")
      .attr("d", maps);

  var map = po.map()
      .container($n(g2.add("svg:g").attr("transform", "translate(330,-100)")))
      .size({x: 430, y: 140})
      .add(po.drag())
      .add(po.dblclick())
      .add(po.wheel());

  map.add(po.image()
      .url(po.url("http://{S}tile.cloudmade.com"
      + "/1a1b06b230af4efdbb989ea99e9841af" // http://cloudmade.com/register
      + "/999/256/{Z}/{X}/{Y}.png")
      .hosts(["a.", "b.", "c.", ""])));

  g.add("svg:path")
      .attr("d", maps)
      .attr("fill", "none")
      .attr("stroke", "black");
})();
